<!DOCTYPE html>
<html lang="ru">
  <head>
    <title>Kursach</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%#= javascript_importmap_tags %>
  </head>

  <body>
  <nav class='navbar navbar-expand-lg navbar-dark bg-dark'>
    <div class='container-fluid'>
      <a class='navbar-brand' href='/'>Root</a>
      <button class='navbar-toggler' type='button' data-bs-toggle='collapse' data-bs-target='#navbarSupportedContent' aria-controls='navbarSupportedContent' aria-expanded='false' aria-label='Toggle navigation'>
        <span class='navbar-toggler-icon'></span>
      </button>
      <div class='collapse navbar-collapse' id='navbarSupportedContent'>
      <% if !devise_controller? || current_page?('/users/edit')  %>
        <ul class='navbar-nav me-auto mb-2 mb-lg-0'>
          <li class='nav-item'>
            <%# <a class='nav-link active' aria-current='page' href=" %>
            <%#= root_path %>
            <%# ">Home</a> %>
            <%= link_to 'Главная', root_path, class: 'nav-link active root-path', aria: { current: 'page' }, remote: true, data: {turbo_method: :get} %>
          </li>
          <% if current_user.present? %>
            <li class='nav-item'>
              <a class='nav-link active' aria-current='page' href="<%= user_path current_user.id %>">Профиль</a>
            </li>
            <li class='nav-item'>
              <%= link_to 'Выйти', destroy_user_session_path, class: 'nav-link active', data: {turbo_method: :delete, remote: true} %>
            </li>
          <% else %>
            <li class='nav-item'>
              <%= link_to 'Войти', new_user_session_path, class: 'nav-link active'%>
              <%# <a class='nav-link active' aria-current='page' href="">Войти</a> %>
            </li>
          <% end %>
        </ul>
      <% end %>
      </div>
    </div>
  </nav>
  <div class="container">
    <div class="row justify-content-md-center">
      <div class="col-md-8">
        <%= yield %>
      </div>
    </div>
  </div>
  </body>
</html>
